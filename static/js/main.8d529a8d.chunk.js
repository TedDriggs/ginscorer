(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,,,,,,,,function(e,a,t){e.exports=t(62)},,,,,,,,,function(e,a,t){},,function(e,a,t){},,function(e,a,t){},,,,function(e,a,t){},,function(e,a,t){},,function(e,a,t){},,function(e,a,t){},,function(e,a,t){},,function(e,a,t){},,function(e,a,t){},,function(e,a,t){},,function(e,a,t){},,,,function(e,a,t){},,function(e,a,t){},,function(e,a,t){},,function(e,a,t){},,function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),s=t(2),l=t(3),o=t(9),c=t(4);t(26);const i={version:1,player1Name:"Player 1",player2Name:"Player 2",games:[]},m=e=>(window.localStorage.setItem("reduxState",JSON.stringify(e)),Promise.resolve());t(28);const u=()=>r.a.createElement("header",{className:"c-app-header"},r.a.createElement("h1",null,"Gin Scorer"));var p=t(1),d=t.n(p);const h=e=>{e.stopPropagation(),e.preventDefault()},b=r.a.forwardRef((e,a)=>r.a.createElement("button",Object.assign({},e,{ref:a,className:d()("c-button",e.className),onClick:a=>{!a.button&&e.onClick&&(h(a),e.onClick())}}))),f={UndoGame:()=>({type:"UndoGame"}),RenamePlayers:e=>Object.assign(Object.assign({},e),{type:"RenamePlayers"}),FinishGame:e=>({type:"FinishGame",result:e}),StartNewMatch:()=>({type:"StartNewMatch"})};var y=t(65),v=t(63),g=t(14);const w=e=>{e.current&&e.current.focus()},O=e=>()=>e.current&&e.current.contains(document.activeElement)||!1;t(30);const E=125;class N extends r.a.Component{constructor(){super(...arguments),this.titleButton=r.a.createRef(),this.handleBackdropClick=(e=>{!e.button&&this.props.onDismiss&&this.props.onDismiss()}),this.handleKeyDown=(e=>{const{onDismiss:a}=this.props;a&&e.key===g.a.Escape&&(h(e),a())}),this.handleExit=(()=>{w(this.titleButton)})}render(){const{props:e}=this;return Object(s.createPortal)(r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{in:e.open,timeout:E,classNames:"c-drawer__backdrop",appear:!0,mountOnEnter:!0,unmountOnExit:!0},r.a.createElement("div",{onClick:this.handleBackdropClick,className:"c-drawer__backdrop"})),r.a.createElement(y.a,{in:e.open,classNames:"c-drawer",timeout:E,onExit:this.handleExit,onEntered:e.onEntered,appear:!0},r.a.createElement("div",{className:d()("c-drawer",{"c-drawer--has-title":Boolean(e.title)&&!e.hideTitle}),onKeyDown:this.handleKeyDown,role:"dialog"},e.title&&r.a.createElement(b,{ref:this.titleButton,className:"c-drawer__title",onClick:e.onTitleClick},r.a.createElement("span",{className:"c-drawer__title__text"},e.title)),r.a.createElement(v.a,{in:e.open,timeout:E,appear:!0,mountOnEnter:!0,unmountOnExit:!0},e.children)))),document.body)}}const _=()=>r.a.createElement("div",{className:"c-drawer-title-placeholder"}),j=({activator:e,children:a})=>{const[t,s]=Object(n.useState)(!1);return r.a.createElement(r.a.Fragment,null,e({openDrawer:()=>s(!0)}),r.a.createElement(N,{open:t,onDismiss:()=>s(!1)},a))},S=e=>r.a.createElement("form",{className:e.className,onSubmit:a=>{h(a),e.disableSubmit||e.onSubmit()}},e.children,e.submitLabel&&r.a.createElement(b,{disabled:e.disableSubmit,type:"submit"},e.submitLabel)),C=e=>(a,t)=>{const{value:n,onChange:r,disabled:s,name:l}=e.props;s||r&&r(Object.assign(Object.assign({},n),{[t]:a}),l)};t(34);var T=function(e,a){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&a.indexOf(n)<0&&(t[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)a.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(t[n[r]]=e[n[r]])}return t};const k=r.a.forwardRef((e,a)=>{var{onChange:t,label:n,className:s}=e,l=T(e,["onChange","label","className"]);return r.a.createElement("label",{className:d()("c-input",s)},n&&r.a.createElement("div",{className:"c-input-label"},n),r.a.createElement("input",Object.assign({},l,{ref:a,onChange:e=>t(e.target.value,l.name)})))});t(36);class x extends r.a.Component{constructor(){super(...arguments),this.handleChange=C(this),this.focusTarget=r.a.createRef(),this.focus=(()=>w(this.focusTarget))}render(){const{value:e,disabled:a}=this.props;return r.a.createElement("div",{className:"c-players-input"},r.a.createElement(k,{ref:this.focusTarget,label:"Player 1",name:"player1Name",value:e.player1Name,disabled:a,onChange:this.handleChange}),r.a.createElement(k,{label:"Player 2",name:"player2Name",value:e.player2Name,disabled:a,onChange:this.handleChange}))}}const P=e=>{const[a,t]=Object(n.useState)(!1),[s,l]=Object(n.useState)(void 0),o=Object(n.useRef)(null),c=Object(n.useRef)(null),i=()=>{var e;t(!1),l(void 0),null===(e=o.current)||void 0===e||e.focus()};return r.a.createElement(r.a.Fragment,null,r.a.createElement(b,{ref:o,onClick:()=>t(!0)},"Rename Players"),r.a.createElement(N,{open:a,onDismiss:i,onEntered:()=>{var e;return null===(e=c.current)||void 0===e?void 0:e.focus()}},r.a.createElement(S,{onSubmit:()=>{s&&(e.onSubmit(s),i())},submitLabel:"Update"},r.a.createElement(x,{ref:c,value:null!==s&&void 0!==s?s:e.defaultValue,onChange:e=>l(e)}))))},R=({player1Name:e,player2Name:a})=>({player1Name:e,player2Name:a}),G=({games:e})=>Boolean(e.length),F=e=>Object(c.c)(e,c.a.run(m,{args:[e]})),M={onStartNewMatch:f.StartNewMatch,onRenamePlayers:f.RenamePlayers,onUndoGame:f.UndoGame},D=Object(l.b)(e=>({playerNames:R(e),canUndo:G(e)}),M)(e=>r.a.createElement("div",{className:"c-command-bar"},r.a.createElement(b,{onClick:e.onUndoGame,disabled:!e.canUndo},"Undo Last Game"),r.a.createElement(b,{onClick:e.onStartNewMatch},"New Match"),r.a.createElement(P,{defaultValue:e.playerNames,onSubmit:e.onRenamePlayers})));var U=t(15),W=t(5),B=t.n(W);const I=e=>{const[a,t]=z(e),[n,r]=z(e,1,[t]),[s]=z(e,2,[t,r]);return[a,n,s]},L=e=>Boolean(e.finalResult),z=(e,a=0,t=[])=>{const n={[K.One]:-1*a,[K.Two]:-1*a},r={[K.One]:0,[K.Two]:0},s=[],l=[];t.reverse();let o=t.pop();for(const[c,i]of e.entries()){if(console.info("set",a,"game",c,o,n),"number"===typeof o&&c>=o+1&&(n[K.One]=Math.max(-1*t.length,n[K.One]),n[K.Two]=Math.max(-1*t.length,n[K.Two]),o=t.pop()),n[i.winner]+=1,n[i.winner]<=0)continue;r[i.winner]+=i.points;const e=r[i.winner];if(s.push(Object.assign(Object.assign({},i),{runningTotal:e})),e>=100){l.push({player:i.winner,points:100,label:"Going out"}),$.forEach(e=>{n[e]>0&&l.push({player:e,points:10*n[e],label:"Wins"})}),$.forEach(e=>{const a=s.filter(J(e)).reduce((e,a)=>e+A(a.gin),0);a&&l.push({player:e,points:a,label:"Gins"})}),n[K.Two]<=0&&l.push({player:K.One,points:e+l.filter(e=>e.player===K.One).reduce((e,{points:a})=>e+a,0),label:"Blitz"}),n[K.One]<=0&&l.push({player:K.Two,points:e+l.filter(e=>e.player===K.Two).reduce((e,{points:a})=>e+a,0),label:"Blitz"}),r[K.One]+=l.filter(e=>e.player===K.One).reduce((e,{points:a})=>e+a,0),r[K.Two]+=l.filter(e=>e.player===K.Two).reduce((e,{points:a})=>e+a,0);const a={winner:X(r),points:Math.abs(r[K.One]-r[K.Two])};return[{bonuses:l,finalResult:a,games:s},c]}}return[{bonuses:l,currentScores:r,games:s},void 0]},X=e=>e[K.One]>e[K.Two]?K.One:K.Two,A=e=>{switch(e){case Q.None:return 0;case Q.Normal:return 25;case Q.Super:return 50}},J=e=>a=>a.winner===e,V=(e,a)=>{const t={[K.One]:0,[K.Two]:0};e.forEach(e=>t[e.finalResult.winner]+=e.finalResult.points);const n=X(t),r=a.every(J(n));return{winner:n,isHollywood:r,points:r?2*t[n]:t[n]-t[H(n)]}};var K;!function(e){e[e.One=1]="One",e[e.Two=2]="Two"}(K||(K={}));const $=[K.One,K.Two],Y=(e,a)=>a===K.One?e.player1Name:e.player2Name,H=e=>e===K.One?K.Two:K.One;var Q;!function(e){e.None="none",e.Normal="normal",e.Super="super"}(Q||(Q={}));const q={guard:e=>null!==e.winner&&"object"===typeof e&&"number"===typeof e.points&&"string"===typeof e.gin&&void 0!==e.winner},Z=()=>({[K.One]:0,[K.Two]:0}),ee=e=>e.reduce((e,a)=>(e[a.winner]+=1,e),Z()),ae=(e,a)=>{const t=e.reduce((e,a)=>(e[a.winner]+=a.points,e),Z());return a[K.One]&&(t[K.One]/=a[K.One]),a[K.Two]&&(t[K.Two]/=a[K.Two]),t},te=e=>{const a=Z(),t=Z();for(const n of e)a[n.winner]+=1,a[H(n.winner)]=0,a[n.winner]>t[n.winner]&&(t[n.winner]=a[n.winner]);return t},ne=e=>e.reduce((e,a)=>(e[a.winner]=Math.max(e[a.winner],a.points),e),Z()),re=e=>e.reduce((e,a)=>(a.gin!==Q.None&&(e[a.winner][a.gin]+=1),e),{[K.One]:{[Q.Normal]:0,[Q.Super]:0},[K.Two]:{[Q.Normal]:0,[Q.Super]:0}});var se=function(e,a){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&a.indexOf(n)<0&&(t[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)a.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(t[n[r]]=e[n[r]])}return t};const le=e=>{const{value:a,className:t}=e,n=se(e,["value","className"]);return r.a.createElement("input",Object.assign({},n,{className:d()("c-number-input",t),type:"number",value:null!==a?a.toString():"",onChange:a=>{e.onChange(oe(a.target.value),e.name)}}))},oe=e=>""===e?null:Number.parseInt(e,10);t(38);var ce=function(e,a){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&a.indexOf(n)<0&&(t[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)a.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(t[n[r]]=e[n[r]])}return t};class ie extends r.a.Component{constructor(){super(...arguments),this.root=r.a.createRef(),this.hasFocus=O(this.root),this.focus=(()=>w(this.root)),this.handleFocusChange=(()=>this.forceUpdate()),this.handleChange=(()=>{var e,a;null===(a=(e=this.props).onChange)||void 0===a||a.call(e,this.props.value,this.props.name)})}render(){const e=this.props,{className:a,children:t,value:n,label:s}=e,l=ce(e,["className","children","value","label"]);return r.a.createElement("label",{ref:this.root,className:d()("c-radio",a,{"c-radio--checked":l.selected,"c-radio--disabled":l.disabled,"c-radio--nonative":l.hideNative,"c-radio--has-focus":this.hasFocus()})},r.a.createElement("input",{name:l.name,disabled:l.disabled,checked:l.selected,onChange:this.handleChange,value:n.toString(),type:"radio",onFocus:this.handleFocusChange,onBlur:this.handleFocusChange}),s)}}t(40);var me=function(e,a){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&a.indexOf(n)<0&&(t[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)a.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(t[n[r]]=e[n[r]])}return t};class ue extends r.a.Component{constructor(){super(...arguments),this.first=r.a.createRef(),this.focus=(()=>w(this.first))}render(){const e=this.props,{className:a,name:t}=e,n=me(e,["className","name"]);return r.a.createElement("div",{className:d()("c-radio-group",a,{"c-radio-group--horizontal":n.horizontal,"c-radio-group--hide-native":n.hideNative})},n.label&&r.a.createElement("span",{className:"c-radio-group__label"},n.label),n.choices.map((e,a)=>r.a.createElement(ie,Object.assign({},e,{key:e.value,ref:0===a?this.first:void 0,name:t,disabled:n.disabled,hideNative:n.hideNative,selected:n.value===e.value,onChange:n.onChange}))))}}t(42);var pe=function(e,a){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&a.indexOf(n)<0&&(t[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)a.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(t[n[r]]=e[n[r]])}return t};const de={DEFAULT:{winner:K.One,points:null,gin:Q.None}};class he extends r.a.Component{constructor(){super(...arguments),this.focusTarget=r.a.createRef(),this.handleChange=C(this),this.focus=(()=>w(this.focusTarget))}render(){const e=this.props,{value:a,disabled:t}=e,n=pe(e,["value","disabled"]);return r.a.createElement("div",{className:"c-game-input"},r.a.createElement(ue,{name:"winner",className:"c-game-input__players",choices:[{value:K.One,label:n.player1Name},{value:K.Two,label:n.player2Name}],value:a.winner,disabled:t,label:"Winner",onChange:this.handleChange,hideNative:!0,horizontal:!0,ref:this.focusTarget}),r.a.createElement("div",{className:"c-game-input__points"},r.a.createElement(le,{name:"points",value:a.points,min:1,disabled:t,onChange:this.handleChange}),"\xa0 points"),r.a.createElement(ue,{name:"gin",value:a.gin,className:"c-game-input__gin",choices:[{value:Q.None,label:"No Gin"},{value:Q.Normal,label:"Gin"},{value:Q.Super,label:"Super Gin"}],disabled:t,onChange:this.handleChange,horizontal:!0,hideNative:!0}))}}t(44);var be=function(e,a){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&a.indexOf(n)<0&&(t[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)a.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(t[n[r]]=e[n[r]])}return t};const fe=e=>{var{value:a}=e,t=be(e,["value"]);return r.a.createElement("div",{className:d()("c-scorecolumn",t.className)},r.a.createElement("div",{className:"c-scorecolumn__header"},r.a.createElement("div",{className:"c-scorecolumn__player"},t.player1Name),r.a.createElement("div",{className:"c-scorecolumn__player"},t.player2Name)),a.games.map((e,a)=>r.a.createElement(ye,Object.assign({},e,{key:`game-${a}`}))),a.bonuses.map((e,a)=>r.a.createElement(ve,Object.assign({key:`bonus-${a}`},e,{isFirst:0===a}))))},ye=({winner:e,gin:a,runningTotal:t})=>{const n=r.a.createElement("div",{className:"c-scorerow__winner","data-gin":a,key:"winner"},t,a!==Q.None&&r.a.createElement("span",{className:"c-scorerow__winner__gin__star"}," ",a===Q.Normal&&"\u2605",a===Q.Super&&"\u2605\u2605")),s=r.a.createElement("div",{className:"c-scorerow__loser",key:"loser"});return r.a.createElement("div",{className:"c-scorerow"},e===K.One?[n,s]:[s,n])},ve=e=>{const a=r.a.createElement("div",{className:"c-bonusrow__recipient",key:"winner"},r.a.createElement("span",{className:"c-bonusrow__points"},e.points),r.a.createElement("span",{className:"c-bonusrow__label"},e.label)),t=r.a.createElement("div",{className:"c-bonusrow__loser",key:"loser"});return r.a.createElement("div",{className:d()("c-bonusrow",{"c-bonusrow--first":e.isFirst})},e.player===K.One?[a,t]:[t,a])};t(46);const ge=({className:e,children:a,overflowX:t="auto",overflowY:n="auto"})=>r.a.createElement("div",{className:d()("c-scroll-viewer",e),style:{overflowX:t,overflowY:n}},a);t(48),t(50);var we=function(e,a){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&a.indexOf(n)<0&&(t[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)a.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(t[n[r]]=e[n[r]])}return t};const Oe=e=>{const{value:a}=e,t=we(e,["value"]);return L(a)?r.a.createElement(Ee,Object.assign({},t,{finished:!0}),r.a.createElement("span",{className:"c-set-summary--final__winner"},Y(e,a.finalResult.winner)," won"),r.a.createElement("span",{className:"c-set-summary--final__points"},a.finalResult.points)):r.a.createElement(Ee,Object.assign({},t),r.a.createElement("div",{className:"c-set-summary__player"},r.a.createElement("span",{className:"c-set-summary__player-name"},e.player1Name),r.a.createElement("span",{className:"c-set-summary__points"},a.currentScores[K.One])),r.a.createElement("div",{className:"c-set-summary__player"},r.a.createElement("span",{className:"c-set-summary__player-name"},e.player2Name),r.a.createElement("span",{className:"c-set-summary__points"},a.currentScores[K.Two])))},Ee=({className:e,onClick:a,finished:t,children:n})=>r.a.createElement("div",{className:d()("c-set-summary",t?"c-set-summary--final":"c-set-summary--in-progress",e,{"c-set-summary--clickable":Boolean(a)}),onClick:a},n);class Ne extends r.a.PureComponent{render(){return r.a.createElement(j,{activator:({openDrawer:e})=>r.a.createElement(Oe,Object.assign({},this.props,{onClick:e,className:"c-set-view"}))},r.a.createElement(fe,Object.assign({},this.props,{className:"c-set-view__score-column"})))}}var _e=t(8);t(54);const je=({value:e,layout:a})=>{switch(a){case"stack":return r.a.createElement(Se,{value:e});case"grid":return r.a.createElement(xe,{value:e})}},Se=({value:e})=>r.a.createElement("div",{className:"c-stats-viewer"},Re((e,a,t)=>r.a.createElement(Ce,{title:e,value:a,formatter:t}),e)),Ce=e=>{const a=Object(l.c)(R);return r.a.createElement("div",{className:"c-share-chart"},r.a.createElement("h3",null,e.title),Y(a,K.One),":"," ",e.formatter(e.value[K.One]),r.a.createElement("br",null),Y(a,K.Two),":"," ",e.formatter(e.value[K.Two]),r.a.createElement("br",null))},Te=e=>e%1===0?e.toString():e.toFixed(2),ke=e=>{const a=e[Q.Normal],t=e[Q.Super],n=r.a.createElement("span",{style:{whiteSpace:"nowrap"}},a,"\u2605"),s=r.a.createElement("span",{style:{whiteSpace:"nowrap"}},t,"\u2605\u2605");return a&&t?r.a.createElement(r.a.Fragment,null,n," ",r.a.createElement("span",{style:{opacity:.5}},"|")," ",s):a?n:t?s:0},xe=({value:e})=>{const a=Object(l.c)(R);return r.a.createElement("table",{className:"c-stats-viewer c-stats-viewer--grid"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("td",null,Y(a,K.One)),r.a.createElement("td",null),r.a.createElement("td",null,Y(a,K.Two)))),r.a.createElement("tbody",null,Re((e,a,t)=>r.a.createElement(Pe,{title:e,value:a,formatter:t}),e)))},Pe=e=>r.a.createElement("tr",null,r.a.createElement("td",null,e.formatter(e.value[K.One])),r.a.createElement("td",null,e.title),r.a.createElement("td",null,e.formatter(e.value[K.Two]))),Re=(e,a)=>r.a.createElement(r.a.Fragment,null,e("Wins",a.wins,_e.identity),e("Max Streak",a.maxStreak,_e.identity),e("Mean PPG",a.meanWinSize,Te),e("Biggest Win",a.biggestWin,_e.identity),e("Gins",a.ginGames,ke));t(56);const Ge=e=>r.a.createElement("div",{className:d()("c-match-result-viewer",d.a)},r.a.createElement("div",{className:"c-match-result-viewer__winner"},e.winner===K.One?e.player1Name:e.player2Name," ","wins!"),r.a.createElement("div",{className:"c-match-result-viewer__points"},r.a.createElement("span",{className:"c-match-result-viewer__points-value"},e.points),"\xa0",r.a.createElement("span",{className:"c-match-result-viewer__points-label"},"points")),r.a.createElement("div",{className:"c-match-result-viewer__actions"},e.onNewMatch&&r.a.createElement(b,{onClick:e.onNewMatch},"Play again")));t(58);var Fe=function(e,a){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&a.indexOf(n)<0&&(t[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)a.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(t[n[r]]=e[n[r]])}return t};class Me extends r.a.Component{constructor(e){super(e),this.input=r.a.createRef(),this.focus=(()=>w(this.input)),this.handleChange=(e=>{this.setState(e)}),this.handleSubmit=(()=>{q.guard(this.state)&&(this.props.onSubmitGame&&this.props.onSubmitGame(this.state),this.setState(de.DEFAULT),this.focus())}),this.state=de.DEFAULT}render(){return r.a.createElement(S,{className:"c-gameform",onSubmit:this.handleSubmit,disableSubmit:this.props.disabled||!q.guard(this.state),submitLabel:"Submit"},r.a.createElement(he,{ref:this.input,player1Name:this.props.player1Name,player2Name:this.props.player2Name,disabled:this.props.disabled,value:this.state,onChange:this.handleChange}))}}const De=Object(U.createSelector)(e=>e.games,R,(e,a)=>(e=>a=>{const t=I(a),n=t.every(L)?V(t,a):void 0;return Object.assign(Object.assign({},e),{games:a,sets:t,finalResult:n})})(a)(e)),Ue={onSubmitGame:f.FinishGame,onNewMatch:f.StartNewMatch},We=Object(l.b)(e=>({value:De(e)}),Ue)(e=>{var a=e.value,{player1Name:t,player2Name:s}=a,l=Fe(a,["player1Name","player2Name"]),{readOnly:o}=e,c=Fe(e,["value","readOnly"]);const i=Object(n.useRef)(null),m=Object(n.useMemo)(()=>(e=>{const a=ee(e);return{wins:a,meanWinSize:ae(e,a),maxStreak:te(e),biggestWin:ne(e),ginGames:re(e)}})(l.games),[l.games]),[u,p]=Object(n.useState)(!1),h={player1Name:t,player2Name:s},b=()=>{p(!1)},f=r.a.createElement(Me,Object.assign({ref:i},h,{onSubmitGame:e=>{var a;null===(a=c.onSubmitGame)||void 0===a||a.call(c,e),b()}}));return r.a.createElement("div",{className:d()("c-match-viewer",{"c-match-viewer--finished":Boolean(l.finalResult)})},r.a.createElement(B.a,{minWidth:600},r.a.createElement(ge,{className:"c-match-viewer__main"},r.a.createElement("div",{className:"c-match-viewer__sets"},l.sets.map((e,a)=>r.a.createElement(fe,Object.assign({key:a},h,{value:e})))),r.a.createElement(je,{value:m,layout:"stack"}))),r.a.createElement(B.a,{maxWidth:600},r.a.createElement(ge,{overflowX:"hidden"},l.sets.map((e,a)=>r.a.createElement(Ne,Object.assign({key:a,value:e},h))),r.a.createElement(je,{value:m,layout:"grid"}))),l.finalResult&&r.a.createElement(Ge,Object.assign({},h,l.finalResult,{onNewMatch:c.onNewMatch})),!o&&r.a.createElement(r.a.Fragment,null,r.a.createElement(B.a,{maxWidth:1e3},r.a.createElement(_,null),r.a.createElement(N,{open:u,title:"Add game",onTitleClick:()=>{var e;p(!0),null===(e=i.current)||void 0===e||e.focus()},onDismiss:b,hideTitle:!!l.finalResult},f)),r.a.createElement(B.a,{minWidth:1e3},r.a.createElement("div",{className:"c-match-viewer__add-game"},r.a.createElement("h1",null,"Add game"),f))))});t(60);const Be=e=>r.a.createElement("div",{className:"l-playing"},r.a.createElement(u,null),r.a.createElement(D,null),r.a.createElement(We,null)),Ie=(Object(o.b)(Object(o.a)(()=>window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),Object(c.b)()),Object(o.c)((e,a)=>{switch(a.type){case"RenamePlayers":{const{player1Name:t,player2Name:n}=a;return F(Object.assign(Object.assign({},e),{player1Name:t,player2Name:n}))}case"FinishGame":return F(Object.assign(Object.assign({},e),{games:[...e.games,a.result]}));case"UndoGame":return F(Object.assign(Object.assign({},e),{games:e.games.slice(0,e.games.length-1)}));case"StartNewMatch":return F(Object.assign(Object.assign({},e),{games:[]}));default:return e}},(()=>{const e=window.localStorage.getItem("reduxState");if(e)try{const t=JSON.parse(e);if(!(e=>"object"===typeof e&&"string"===typeof e.player1Name&&"string"===typeof e.player2Name)(t))return;if(1!==t.version)return;return t}catch(a){return void console.error("Could not read state as JSON",a)}})()||i,Object(c.b)()));var Le=class extends r.a.Component{render(){return r.a.createElement(l.a,{store:Ie},r.a.createElement(Be,null))}};const ze=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Xe(e){navigator.serviceWorker.register(e).then(e=>{e.onupdatefound=(()=>{const a=e.installing;a&&(a.onstatechange=(()=>{"installed"===a.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}))})}).catch(e=>{console.error("Error during service worker registration:",e)})}s.render(r.a.createElement(Le,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/ginscorer",window.location.toString()).origin!==window.location.origin)return;window.addEventListener("load",()=>{const e="/ginscorer/service-worker.js";ze?(function(e){fetch(e).then(a=>{404===a.status||-1===a.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(e=>{e.unregister().then(()=>{window.location.reload()})}):Xe(e)}).catch(()=>{console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(()=>{console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):Xe(e)})}}()}],[[17,2,1]]]);
//# sourceMappingURL=main.8d529a8d.chunk.js.map