(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,,,,,,,,function(e,a,t){e.exports=t(64)},,,,,,,,,function(e,a,t){},,function(e,a,t){},,function(e,a,t){},,function(e,a,t){},,,,function(e,a,t){},,function(e,a,t){},,function(e,a,t){},,function(e,a,t){},,function(e,a,t){},,function(e,a,t){},,function(e,a,t){},,function(e,a,t){},,function(e,a,t){},,,,function(e,a,t){},,function(e,a,t){},,function(e,a,t){},,function(e,a,t){},,function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(3),s=t(2),o=t(9),c=t(4);t(26);const i=e=>{const[a,t]=u(e),[n,r]=u(e,1,[t]),[l]=u(e,2,[t,r]);return[a,n,l]},m=e=>Boolean(e.finalResult),u=(e,a=0,t=[])=>{const n={[v.One]:-1*a,[v.Two]:-1*a},r={[v.One]:0,[v.Two]:0},l=[],s=[];t.reverse();let o=t.pop();for(const[c,i]of e.entries()){if("number"===typeof o&&c>=o+1&&(n[v.One]=Math.max(-1*t.length,n[v.One]),n[v.Two]=Math.max(-1*t.length,n[v.Two]),o=t.pop()),n[i.winner]+=1,n[i.winner]<=0)continue;r[i.winner]+=i.points;const e=r[i.winner];if(l.push(Object.assign(Object.assign({},i),{runningTotal:e})),e>=100){s.push({player:i.winner,points:100,label:"Going out"}),y.forEach(e=>{n[e]>0&&s.push({player:e,points:10*n[e],label:"Wins"})}),y.forEach(e=>{const a=l.filter(h(e)).reduce((e,a)=>e+d(a.gin),0);a&&s.push({player:e,points:a,label:"Gins"})}),n[v.Two]<=0&&s.push({player:v.One,points:e+s.filter(e=>e.player===v.One).reduce((e,{points:a})=>e+a,0),label:"Blitz"}),n[v.One]<=0&&s.push({player:v.Two,points:e+s.filter(e=>e.player===v.Two).reduce((e,{points:a})=>e+a,0),label:"Blitz"}),r[v.One]+=s.filter(e=>e.player===v.One).reduce((e,{points:a})=>e+a,0),r[v.Two]+=s.filter(e=>e.player===v.Two).reduce((e,{points:a})=>e+a,0);const a={winner:p(r),points:Math.abs(r[v.One]-r[v.Two])};return[{bonuses:s,finalResult:a,games:l},c]}}return[{bonuses:s,currentScores:r,games:l},void 0]},p=e=>e[v.One]>e[v.Two]?v.One:v.Two,d=e=>{switch(e){case w.None:return 0;case w.Normal:return 25;case w.Super:return 50}},h=e=>a=>a.winner===e,b=(e,a)=>{const t={[v.One]:0,[v.Two]:0};e.forEach(e=>t[e.finalResult.winner]+=e.finalResult.points);const n=p(t),r=a.every(h(n));return{winner:n,isHollywood:r,points:r?2*t[n]:t[n]-t[f(n)]}};var v;!function(e){e[e.One=1]="One",e[e.Two=2]="Two"}(v||(v={}));const y=[v.One,v.Two],g=(e,a)=>a===v.One?e.player1Name:e.player2Name,f=e=>e===v.One?v.Two:v.One;var w;!function(e){e.None="none",e.Normal="normal",e.Super="super"}(w||(w={}));const O={guard:e=>null!==e.winner&&"object"===typeof e&&"number"===typeof e.points&&"string"===typeof e.gin&&void 0!==e.winner},E=e=>{switch(e.version){case 2:return e;case 1:return S(e);default:throw new _(e)}};class N extends Error{constructor(e,a){super(e),this.state=a}}class _ extends N{constructor(e){super(`Unknown state version '${e.version}'`,e),this.version=e.version}}const j={version:2,player1Name:"Player 1",player2Name:"Player 2",games:[],initialDealer:v.One},S=e=>Object.assign(Object.assign({},e),{version:2,initialDealer:v.One}),C=e=>(window.localStorage.setItem("reduxState",JSON.stringify(e)),Promise.resolve());t(28);const k=()=>r.a.createElement("header",{className:"c-app-header"},r.a.createElement("h1",null,"Gin Scorer"));var x=t(1),T=t.n(x);const P=e=>{e.stopPropagation(),e.preventDefault()};t(30);var R=function(e,a){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&a.indexOf(n)<0&&(t[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)a.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(t[n[r]]=e[n[r]])}return t};const D=r.a.forwardRef((e,a)=>{var{primary:t}=e,n=R(e,["primary"]);return r.a.createElement("button",Object.assign({},n,{ref:a,className:T()("c-button",t&&"c-button--primary",n.className),onClick:e=>{!e.button&&n.onClick&&(P(e),n.onClick())}}))}),G={UndoGame:()=>({type:"UndoGame"}),RenamePlayers:e=>Object.assign(Object.assign({},e),{type:"RenamePlayers"}),FinishGame:e=>({type:"FinishGame",result:e}),StartNewMatch:()=>({type:"StartNewMatch"}),SetInitialDealer:e=>({type:"SetInitialDealer",dealer:e})};var F=t(67),M=t(65),I=t(14);const U=e=>{var a;null===(a=e.current)||void 0===a||a.focus()},W=e=>()=>{var a,t;return null!==(t=null===(a=e.current)||void 0===a?void 0:a.contains(document.activeElement))&&void 0!==t&&t};t(32);const L=e=>{const a=Object(n.useRef)(null);return Object(l.createPortal)(r.a.createElement(r.a.Fragment,null,r.a.createElement(F.a,{in:e.open,timeout:125,classNames:"c-drawer__backdrop",appear:!0,mountOnEnter:!0,unmountOnExit:!0},r.a.createElement("div",{onClick:a=>{var t;0===a.button&&(null===(t=e.onDismiss)||void 0===t||t.call(e))},className:"c-drawer__backdrop"})),r.a.createElement(F.a,{in:e.open,classNames:"c-drawer",timeout:125,onExit:()=>U(a),onEntered:e.onEntered,appear:!0},r.a.createElement("div",{className:T()("c-drawer",{"c-drawer--has-title":Boolean(e.title)&&!e.hideTitle}),onKeyDown:a=>{a.key===I.a.Escape&&e.onDismiss&&(P(a),e.onDismiss())},role:"dialog"},e.title&&r.a.createElement(D,{ref:a,className:"c-drawer__title",onClick:e.onTitleClick},r.a.createElement("span",{className:"c-drawer__title__text"},e.title)),r.a.createElement(M.a,{in:e.open,timeout:125,appear:!0,mountOnEnter:!0,unmountOnExit:!0},e.children)))),document.body)},B=()=>r.a.createElement("div",{className:"c-drawer-title-placeholder"}),z=({activator:e,children:a})=>{const[t,l]=Object(n.useState)(!1);return r.a.createElement(r.a.Fragment,null,e({openDrawer:()=>l(!0)}),r.a.createElement(L,{open:t,onDismiss:()=>l(!1)},a))},X=e=>r.a.createElement("form",{style:e.style,className:e.className,onSubmit:a=>{P(a),e.disableSubmit||e.onSubmit()}},e.children,e.submitLabel&&r.a.createElement(D,{primary:!0,disabled:e.disableSubmit,type:"submit"},e.submitLabel)),A=e=>(a,t)=>{const{value:n,onChange:r,disabled:l,name:s}=e.props;l||r&&r(Object.assign(Object.assign({},n),{[t]:a}),s)};t(36);var J=function(e,a){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&a.indexOf(n)<0&&(t[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)a.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(t[n[r]]=e[n[r]])}return t};const V=r.a.forwardRef((e,a)=>{var{onChange:t,label:n,className:l}=e,s=J(e,["onChange","label","className"]);return r.a.createElement("label",{className:T()("c-input",l)},n&&r.a.createElement("div",{className:"c-input-label"},n),r.a.createElement("input",Object.assign({},s,{ref:a,onChange:e=>t(e.target.value,s.name)})))});t(38);class $ extends r.a.Component{constructor(){super(...arguments),this.handleChange=A(this),this.focusTarget=r.a.createRef(),this.focus=(()=>U(this.focusTarget))}render(){const{value:e,disabled:a}=this.props;return r.a.createElement("div",{className:"c-players-input"},r.a.createElement(V,{ref:this.focusTarget,label:"Player 1",name:"player1Name",value:e.player1Name,disabled:a,onChange:this.handleChange,required:!0,maxLength:15}),r.a.createElement(V,{label:"Player 2",name:"player2Name",value:e.player2Name,disabled:a,onChange:this.handleChange,required:!0,maxLength:15}))}}const q=e=>{const[a,t]=Object(n.useState)(!1),[l,s]=Object(n.useState)(void 0),o=Object(n.useRef)(null),c=Object(n.useRef)(null),i=()=>{var e;t(!1),s(void 0),null===(e=o.current)||void 0===e||e.focus()};return r.a.createElement(r.a.Fragment,null,r.a.createElement(D,{ref:o,onClick:()=>t(!0)},"Rename Players"),r.a.createElement(L,{title:a?"Rename Players":void 0,open:a,onDismiss:i,onEntered:()=>{var e;return null===(e=c.current)||void 0===e?void 0:e.focus()}},r.a.createElement(X,{style:{marginLeft:10,marginRight:10,maxWidth:"30em",display:"flex",flexDirection:"column"},onSubmit:()=>{l&&(e.onSubmit(l),i())}},r.a.createElement($,{ref:c,value:null!==l&&void 0!==l?l:e.defaultValue,onChange:e=>s(e)}),r.a.createElement("div",{style:{height:20}}),r.a.createElement(D,{primary:!0,type:"submit"},"Update"))))},Y=({player1Name:e,player2Name:a})=>({player1Name:e,player2Name:a}),H=({games:e})=>Boolean(e.length),K=({games:e,initialDealer:a})=>e.length%2===0?a:f(a),Q=e=>Boolean(e.games.length),Z=e=>Object(c.c)(e,c.a.run(C,{args:[e]})),ee={onStartNewMatch:G.StartNewMatch,onRenamePlayers:G.RenamePlayers,onUndoGame:G.UndoGame},ae=Object(s.b)(e=>({playerNames:Y(e),canUndo:H(e)}),ee)(e=>r.a.createElement("div",{className:"c-command-bar"},r.a.createElement(D,{onClick:e.onUndoGame,disabled:!e.canUndo},"Undo Last Game"),r.a.createElement(D,{onClick:e.onStartNewMatch},"New Match"),r.a.createElement(q,{defaultValue:e.playerNames,onSubmit:e.onRenamePlayers})));var te=t(15),ne=t(5),re=t.n(ne);const le=()=>({[v.One]:0,[v.Two]:0}),se=e=>e.reduce((e,a)=>(e[a.winner]+=1,e),le()),oe=(e,a)=>{const t=e.reduce((e,a)=>(e[a.winner]+=a.points,e),le());return a[v.One]&&(t[v.One]/=a[v.One]),a[v.Two]&&(t[v.Two]/=a[v.Two]),t},ce=e=>{const a=le(),t=le();for(const n of e)a[n.winner]+=1,a[f(n.winner)]=0,a[n.winner]>t[n.winner]&&(t[n.winner]=a[n.winner]);return t},ie=e=>e.reduce((e,a)=>(e[a.winner]=Math.max(e[a.winner],a.points),e),le()),me=e=>e.reduce((e,a)=>(a.gin!==w.None&&(e[a.winner][a.gin]+=1),e),{[v.One]:{[w.Normal]:0,[w.Super]:0},[v.Two]:{[w.Normal]:0,[w.Super]:0}});var ue=function(e,a){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&a.indexOf(n)<0&&(t[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)a.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(t[n[r]]=e[n[r]])}return t};const pe=e=>{const{value:a,className:t}=e,n=ue(e,["value","className"]);return r.a.createElement("input",Object.assign({},n,{className:T()("c-number-input",t),type:"number",value:null!==a?a.toString():"",onChange:a=>{e.onChange(de(a.target.value),e.name)}}))},de=e=>""===e?null:Number.parseInt(e,10);t(40);var he=function(e,a){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&a.indexOf(n)<0&&(t[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)a.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(t[n[r]]=e[n[r]])}return t};class be extends r.a.Component{constructor(){super(...arguments),this.root=r.a.createRef(),this.hasFocus=W(this.root),this.focus=(()=>U(this.root)),this.handleFocusChange=(()=>this.forceUpdate()),this.handleChange=(()=>{var e,a;null===(a=(e=this.props).onChange)||void 0===a||a.call(e,this.props.value,this.props.name)})}render(){const e=this.props,{className:a,children:t,value:n,label:l}=e,s=he(e,["className","children","value","label"]);return r.a.createElement("label",{ref:this.root,className:T()("c-radio",a,{"c-radio--checked":s.selected,"c-radio--disabled":s.disabled,"c-radio--nonative":s.hideNative,"c-radio--has-focus":this.hasFocus()})},r.a.createElement("input",{name:s.name,disabled:s.disabled,checked:s.selected,onChange:this.handleChange,value:n.toString(),type:"radio",onFocus:this.handleFocusChange,onBlur:this.handleFocusChange}),l)}}t(42);var ve=function(e,a){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&a.indexOf(n)<0&&(t[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)a.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(t[n[r]]=e[n[r]])}return t};class ye extends r.a.Component{constructor(){super(...arguments),this.first=r.a.createRef(),this.focus=(()=>U(this.first))}render(){const e=this.props,{className:a,name:t}=e,n=ve(e,["className","name"]);return r.a.createElement("div",{className:T()("c-radio-group",a,{"c-radio-group--horizontal":n.horizontal,"c-radio-group--hide-native":n.hideNative})},n.label&&r.a.createElement("span",{className:"c-radio-group__label"},n.label),n.choices.map((e,a)=>r.a.createElement(be,Object.assign({},e,{key:e.value,ref:0===a?this.first:void 0,name:t,disabled:n.disabled,hideNative:n.hideNative,selected:n.value===e.value,onChange:n.onChange}))))}}t(44);var ge=function(e,a){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&a.indexOf(n)<0&&(t[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)a.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(t[n[r]]=e[n[r]])}return t};const fe={DEFAULT:{winner:v.One,points:null,gin:w.None}};class we extends r.a.Component{constructor(){super(...arguments),this.focusTarget=r.a.createRef(),this.handleChange=A(this),this.focus=(()=>U(this.focusTarget))}render(){const e=this.props,{value:a,disabled:t}=e,n=ge(e,["value","disabled"]);return r.a.createElement("div",{className:"c-game-input"},r.a.createElement(ye,{name:"winner",className:"c-game-input__players",choices:[{value:v.One,label:n.player1Name},{value:v.Two,label:n.player2Name}],value:a.winner,disabled:t,label:"Winner",onChange:this.handleChange,hideNative:!0,horizontal:!0,ref:this.focusTarget}),r.a.createElement("div",{className:"c-game-input__points"},r.a.createElement(pe,{name:"points",value:a.points,min:1,disabled:t,onChange:this.handleChange}),"\xa0 points"),r.a.createElement(ye,{name:"gin",value:a.gin,className:"c-game-input__gin",choices:[{value:w.None,label:"No Gin"},{value:w.Normal,label:"Gin"},{value:w.Super,label:"Super Gin"}],disabled:t,onChange:this.handleChange,horizontal:!0,hideNative:!0}))}}t(46);var Oe=function(e,a){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&a.indexOf(n)<0&&(t[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)a.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(t[n[r]]=e[n[r]])}return t};const Ee=e=>{var{value:a}=e,t=Oe(e,["value"]);return r.a.createElement("div",{className:T()("c-scorecolumn",t.className)},r.a.createElement("div",{className:"c-scorecolumn__header"},r.a.createElement("div",{className:"c-scorecolumn__player"},t.player1Name),r.a.createElement("div",{className:"c-scorecolumn__player"},t.player2Name)),a.games.map((e,a)=>r.a.createElement(Ne,Object.assign({},e,{key:`game-${a}`}))),a.bonuses.map((e,a)=>r.a.createElement(_e,Object.assign({key:`bonus-${a}`},e,{isFirst:0===a}))))},Ne=({winner:e,gin:a,runningTotal:t})=>{const n=r.a.createElement("div",{className:"c-scorerow__winner","data-gin":a,key:"winner"},t,a!==w.None&&r.a.createElement("span",{className:"c-scorerow__winner__gin__star"}," ",a===w.Normal&&"\u2605",a===w.Super&&"\u2605\u2605")),l=r.a.createElement("div",{className:"c-scorerow__loser",key:"loser"});return r.a.createElement("div",{className:"c-scorerow"},e===v.One?[n,l]:[l,n])},_e=e=>{const a=r.a.createElement("div",{className:"c-bonusrow__recipient",key:"winner"},r.a.createElement("span",{className:"c-bonusrow__points"},e.points),r.a.createElement("span",{className:"c-bonusrow__label"},e.label)),t=r.a.createElement("div",{className:"c-bonusrow__loser",key:"loser"});return r.a.createElement("div",{className:T()("c-bonusrow",{"c-bonusrow--first":e.isFirst})},e.player===v.One?[a,t]:[t,a])};t(48);const je=({className:e,children:a,overflowX:t="auto",overflowY:n="auto"})=>r.a.createElement("div",{className:T()("c-scroll-viewer",e),style:{overflowX:t,overflowY:n}},a);t(50),t(52);var Se=function(e,a){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&a.indexOf(n)<0&&(t[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)a.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(t[n[r]]=e[n[r]])}return t};const Ce=e=>{const{value:a}=e,t=Se(e,["value"]);return m(a)?r.a.createElement(ke,Object.assign({},t,{finished:!0}),r.a.createElement("span",{className:"c-set-summary--final__winner"},g(e,a.finalResult.winner)," won"),r.a.createElement("span",{className:"c-set-summary--final__points"},a.finalResult.points)):r.a.createElement(ke,Object.assign({},t),r.a.createElement("div",{className:"c-set-summary__player"},r.a.createElement("span",{className:"c-set-summary__player-name"},e.player1Name),r.a.createElement("span",{className:"c-set-summary__points"},a.currentScores[v.One])),r.a.createElement("div",{className:"c-set-summary__player"},r.a.createElement("span",{className:"c-set-summary__player-name"},e.player2Name),r.a.createElement("span",{className:"c-set-summary__points"},a.currentScores[v.Two])))},ke=({className:e,onClick:a,finished:t,children:n})=>r.a.createElement("div",{className:T()("c-set-summary",t?"c-set-summary--final":"c-set-summary--in-progress",e,{"c-set-summary--clickable":Boolean(a)}),onClick:a},n);class xe extends r.a.PureComponent{render(){return r.a.createElement(z,{activator:({openDrawer:e})=>r.a.createElement(Ce,Object.assign({},this.props,{onClick:e,className:"c-set-view"}))},r.a.createElement(Ee,Object.assign({},this.props,{className:"c-set-view__score-column"})))}}var Te=t(8);t(56);const Pe=({layout:e,value:a,showDealer:t})=>{const n=Object(s.d)(K);switch(e){case"stack":return r.a.createElement(Re,{value:a,dealer:t?n:void 0});case"grid":return r.a.createElement(Me,{value:a,dealer:t?n:void 0})}},Re=({value:e,dealer:a})=>{const t=Object(s.d)(Y);return r.a.createElement("div",{className:"c-stats-viewer"},void 0!==a&&r.a.createElement("div",null,"Dealer: ",g(t,a)),Ue((e,a,t)=>r.a.createElement(De,{title:e,value:a,formatter:t}),e))},De=e=>{const a=Object(s.d)(Y);return r.a.createElement("div",{className:"c-share-chart"},r.a.createElement("h3",null,e.title),g(a,v.One),":"," ",e.formatter(e.value[v.One]),r.a.createElement("br",null),g(a,v.Two),":"," ",e.formatter(e.value[v.Two]),r.a.createElement("br",null))},Ge=e=>e%1===0?e.toString():e.toFixed(2),Fe=e=>{const a=e[w.Normal],t=e[w.Super],n=r.a.createElement("span",{style:{whiteSpace:"nowrap"}},a,"\u2605"),l=r.a.createElement("span",{style:{whiteSpace:"nowrap"}},t,"\u2605\u2605");return a&&t?r.a.createElement(r.a.Fragment,null,n," ",r.a.createElement("span",{style:{opacity:.5}},"|")," ",l):a?n:t?l:0},Me=({value:e,dealer:a})=>{const t=Object(s.d)(Y);return r.a.createElement("table",{className:"c-stats-viewer c-stats-viewer--grid"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("td",{className:"c-stats-viewer--grid__player"},g(t,v.One)),r.a.createElement("td",null,void 0!==a&&r.a.createElement(We,{dealer:a})),r.a.createElement("td",{className:"c-stats-viewer--grid__player"},g(t,v.Two)))),r.a.createElement("tbody",null,Ue((e,a,t)=>r.a.createElement(Ie,{title:e,value:a,formatter:t}),e)))},Ie=e=>r.a.createElement("tr",null,r.a.createElement("td",null,e.formatter(e.value[v.One])),r.a.createElement("td",null,e.title),r.a.createElement("td",null,e.formatter(e.value[v.Two]))),Ue=(e,a)=>r.a.createElement(r.a.Fragment,null,e("Wins",a.wins,Te.identity),e("Max Streak",a.maxStreak,Te.identity),e("Mean PPG",a.meanWinSize,Ge),e("Biggest Win",a.biggestWin,Te.identity),e("Gins",a.ginGames,Fe)),We=({dealer:e})=>{const a=Object(s.d)(Q),t=Object(s.c)();return r.a.createElement("div",{className:T()("c-dealer-token",e===v.One?"c-dealer-token--p1":"c-dealer-token--p2"),onClick:a?void 0:()=>t(G.SetInitialDealer(f(e)))},r.a.createElement("span",{className:"c-dealer-token__arrow c-dealer-token__arrow--p1"},"\u25c0")," ","Dealer"," ",r.a.createElement("span",{className:"c-dealer-token__arrow c-dealer-token__arrow--p2"},"\u25b6"))};t(58);const Le=e=>r.a.createElement("div",{className:T()("c-match-result-viewer",T.a)},r.a.createElement("div",{className:"c-match-result-viewer__winner"},e.winner===v.One?e.player1Name:e.player2Name," ","wins!"),r.a.createElement("div",{className:"c-match-result-viewer__points"},r.a.createElement("span",{className:"c-match-result-viewer__points-value"},e.points),"\xa0",r.a.createElement("span",{className:"c-match-result-viewer__points-label"},"points")),r.a.createElement("div",{className:"c-match-result-viewer__actions"},e.onNewMatch&&r.a.createElement(D,{onClick:e.onNewMatch},"Play again")));t(60);var Be=function(e,a){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&a.indexOf(n)<0&&(t[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)a.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(t[n[r]]=e[n[r]])}return t};class ze extends r.a.Component{constructor(e){super(e),this.input=r.a.createRef(),this.focus=(()=>U(this.input)),this.handleChange=(e=>{this.setState(e)}),this.handleSubmit=(()=>{O.guard(this.state)&&(this.props.onSubmitGame&&this.props.onSubmitGame(this.state),this.setState(fe.DEFAULT),this.focus())}),this.state=fe.DEFAULT}render(){return r.a.createElement(X,{className:"c-gameform",onSubmit:this.handleSubmit,disableSubmit:this.props.disabled||!O.guard(this.state),submitLabel:"Submit"},r.a.createElement(we,{ref:this.input,player1Name:this.props.player1Name,player2Name:this.props.player2Name,disabled:this.props.disabled,value:this.state,onChange:this.handleChange}))}}const Xe=Object(te.createSelector)(e=>e.games,Y,(e,a)=>(e=>a=>{const t=i(a),n=t.every(m)?b(t,a):void 0;return Object.assign(Object.assign({},e),{games:a,sets:t,finalResult:n})})(a)(e)),Ae={onSubmitGame:G.FinishGame,onNewMatch:G.StartNewMatch},Je=Object(s.b)(e=>({value:Xe(e)}),Ae)(e=>{var a=e.value,{player1Name:t,player2Name:l}=a,s=Be(a,["player1Name","player2Name"]),{readOnly:o}=e,c=Be(e,["value","readOnly"]);const i=Object(n.useRef)(null),m=Object(n.useMemo)(()=>(e=>{const a=se(e);return{wins:a,meanWinSize:oe(e,a),maxStreak:ce(e),biggestWin:ie(e),ginGames:me(e)}})(s.games),[s.games]),[u,p]=Object(n.useState)(!1),d={player1Name:t,player2Name:l},h=()=>{p(!1)},b=r.a.createElement(ze,Object.assign({ref:i},d,{onSubmitGame:e=>{var a;null===(a=c.onSubmitGame)||void 0===a||a.call(c,e),h()}}));return r.a.createElement("div",{className:T()("c-match-viewer",{"c-match-viewer--finished":Boolean(s.finalResult)})},r.a.createElement(re.a,{minWidth:600},r.a.createElement(je,{className:"c-match-viewer__main"},r.a.createElement("div",{className:"c-match-viewer__sets"},s.sets.map((e,a)=>r.a.createElement(Ee,Object.assign({key:a},d,{value:e})))),r.a.createElement(Pe,{layout:"stack",value:m,showDealer:!s.finalResult}))),r.a.createElement(re.a,{maxWidth:600},r.a.createElement(je,{overflowX:"hidden"},s.sets.map((e,a)=>r.a.createElement(xe,Object.assign({key:a,value:e},d))),r.a.createElement(Pe,{layout:"grid",value:m,showDealer:!s.finalResult}))),s.finalResult&&r.a.createElement(Le,Object.assign({},d,s.finalResult,{onNewMatch:c.onNewMatch})),!o&&r.a.createElement(r.a.Fragment,null,r.a.createElement(re.a,{maxWidth:1e3},r.a.createElement(B,null),r.a.createElement(L,{open:u,title:"Add game",onTitleClick:()=>{var e;p(!0),null===(e=i.current)||void 0===e||e.focus()},onDismiss:h,hideTitle:!!s.finalResult},b)),r.a.createElement(re.a,{minWidth:1e3},r.a.createElement("div",{className:"c-match-viewer__add-game"},r.a.createElement("h1",null,"Add game"),b))))});t(62);const Ve=e=>r.a.createElement("div",{className:"l-playing"},r.a.createElement(k,null),r.a.createElement(ae,null),r.a.createElement(Je,null)),$e=(Object(o.b)(Object(o.a)(()=>window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),Object(c.b)()),Object(o.c)((e,a)=>{switch(a.type){case"RenamePlayers":{const{player1Name:t,player2Name:n}=a;return Z(Object.assign(Object.assign({},e),{player1Name:t,player2Name:n}))}case"FinishGame":return Z(Object.assign(Object.assign({},e),{games:[...e.games,a.result]}));case"UndoGame":return Z(Object.assign(Object.assign({},e),{games:e.games.slice(0,e.games.length-1)}));case"StartNewMatch":return Z(Object.assign(Object.assign({},e),{games:[]}));case"SetInitialDealer":return e.games.length?e:Z(Object.assign(Object.assign({},e),{initialDealer:a.dealer}));default:return e}},(()=>{const e=window.localStorage.getItem("reduxState");if(e)try{const t=JSON.parse(e);if(!(e=>"object"===typeof e&&"string"===typeof e.player1Name&&"string"===typeof e.player2Name&&"number"===typeof e.version)(t))return;try{return E(t)}catch(a){return void console.error(a)}}catch(a){return void console.error("Could not read state as JSON",a)}})()||j,Object(c.b)()));var qe=class extends r.a.Component{render(){return r.a.createElement(s.a,{store:$e},r.a.createElement(Ve,null))}};const Ye=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function He(e){navigator.serviceWorker.register(e).then(e=>{e.onupdatefound=(()=>{const a=e.installing;a&&(a.onstatechange=(()=>{"installed"===a.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}))})}).catch(e=>{console.error("Error during service worker registration:",e)})}l.render(r.a.createElement(qe,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/ginscorer",window.location.toString()).origin!==window.location.origin)return;window.addEventListener("load",()=>{const e="/ginscorer/service-worker.js";Ye?(function(e){fetch(e).then(a=>{404===a.status||-1===a.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(e=>{e.unregister().then(()=>{window.location.reload()})}):He(e)}).catch(()=>{console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(()=>{console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):He(e)})}}()}],[[17,2,1]]]);
//# sourceMappingURL=main.396c339d.chunk.js.map